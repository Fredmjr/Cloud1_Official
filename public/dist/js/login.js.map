{
  "version": 3,
  "sources": ["../../src/js/login.js"],
  "sourcesContent": ["const Home = document.querySelector(\".contentsSec\");\r\nconst loginBtn = document.querySelector(\".loginBtn\");\r\n\r\n(lgpg = () => {\r\n  const lgpgobsrvr = new MutationObserver((mutations) => {\r\n    mutations.forEach((mutation) => {\r\n      mutation.addedNodes.forEach((node) => {\r\n        const nodelgn_Btn = node.matches?.(\".lgn_Btn\")\r\n          ? node\r\n          : node.querySelector?.(\".lgn_Btn\");\r\n\r\n        if (nodelgn_Btn) {\r\n          const eml_inpt = document.querySelector(\".lgn_eml_inpt\");\r\n          const psswd_inpt = document.querySelector(\".lgn_psswd_inpt\");\r\n          const cfmpsswd_inpt = document.querySelector(\".lgn_cfmpsswd_inpt\");\r\n          const sgnpLink = document.querySelector(\".sgnpLink\");\r\n\r\n          //Link signup\r\n          sgnpLink.addEventListener(\"click\", () => {\r\n            fetch(\"/app/sgnpg\", {\r\n              method: \"GET\",\r\n              headers: {\r\n                \"Content-Type\": \"application/json\",\r\n                // 'Authorization': 'Bearer YOUR_TOKEN',\r\n              },\r\n            })\r\n              .then((response) => response.text())\r\n              .then((data) => {\r\n                Home.innerHTML = data;\r\n              })\r\n              .catch((error) => console.error(\"Error:\", error));\r\n          });\r\n\r\n          //Login form\r\n          nodelgn_Btn.addEventListener(\"click\", () => {\r\n            console.log(\"submit form:\");\r\n            console.log(eml_inpt.value, psswd_inpt.value, cfmpsswd_inpt.value);\r\n            const lgdata = {\r\n              eml: eml_inpt.value,\r\n              pwd: psswd_inpt.value,\r\n              conf_pwd: cfmpsswd_inpt.value,\r\n            };\r\n\r\n            console.log(lgdata);\r\n\r\n            fetch(\"/usr/lgn\", {\r\n              method: \"POST\",\r\n              headers: {\r\n                \"Content-Type\": \"application/json\",\r\n                // 'Authorization': 'Bearer YOUR_TOKEN',\r\n              },\r\n              body: JSON.stringify(lgdata),\r\n            })\r\n              .then((response) => response.json())\r\n              .then((data) => {\r\n                //erMgs.innerHTML = data;\r\n                //erMgs.style.display = \"block\";\r\n                if (data.erMgs) {\r\n                  console.log(data.erMgs);\r\n                } else if (data.jwtToken) {\r\n                  console.log(data.jwtToken);\r\n                  //Setup Token\r\n                  const expires = new Date(\r\n                    Date.now() + 7 * 24 * 60 * 60 * 1000\r\n                  ); // 7 days\r\n                  document.cookie =\r\n                    `lgrTkn=${encodeURIComponent(data.jwtToken)};` +\r\n                    `Secure; SameSite=Strict; expires=${expires.toUTCString()}; path=/`; //\r\n\r\n                  console.log(data.jwtToken);\r\n                  setTimeout(() => {\r\n                    window.location.reload();\r\n                  }, 2000);\r\n                }\r\n              })\r\n              .catch((error) => console.log(error));\r\n\r\n            if (sgnpLink) {\r\n              console.log(\"here\");\r\n            }\r\n          });\r\n        }\r\n      });\r\n    });\r\n  });\r\n\r\n  lgpgobsrvr.observe(Home, { childList: true, subtree: true });\r\n})();\r\n"],
  "mappings": "+EAAA,IAAMA,EAAO,SAAS,cAAc,cAAc,EAC5CC,EAAW,SAAS,cAAc,WAAW,GAElD,KAAOC,EAAA,IAAM,CACO,IAAI,iBAAkBC,GAAc,CACrDA,EAAU,QAASC,GAAa,CAC9BA,EAAS,WAAW,QAASC,GAAS,CACpC,IAAMC,EAAcD,EAAK,UAAU,UAAU,EACzCA,EACAA,EAAK,gBAAgB,UAAU,EAEnC,GAAIC,EAAa,CACf,IAAMC,EAAW,SAAS,cAAc,eAAe,EACjDC,EAAa,SAAS,cAAc,iBAAiB,EACrDC,EAAgB,SAAS,cAAc,oBAAoB,EAC3DC,EAAW,SAAS,cAAc,WAAW,EAGnDA,EAAS,iBAAiB,QAAS,IAAM,CACvC,MAAM,aAAc,CAClB,OAAQ,MACR,QAAS,CACP,eAAgB,kBAElB,CACF,CAAC,EACE,KAAMC,GAAaA,EAAS,KAAK,CAAC,EAClC,KAAMC,GAAS,CACdZ,EAAK,UAAYY,CACnB,CAAC,EACA,MAAOC,GAAU,QAAQ,MAAM,SAAUA,CAAK,CAAC,CACpD,CAAC,EAGDP,EAAY,iBAAiB,QAAS,IAAM,CAC1C,QAAQ,IAAI,cAAc,EAC1B,QAAQ,IAAIC,EAAS,MAAOC,EAAW,MAAOC,EAAc,KAAK,EACjE,IAAMK,EAAS,CACb,IAAKP,EAAS,MACd,IAAKC,EAAW,MAChB,SAAUC,EAAc,KAC1B,EAEA,QAAQ,IAAIK,CAAM,EAElB,MAAM,WAAY,CAChB,OAAQ,OACR,QAAS,CACP,eAAgB,kBAElB,EACA,KAAM,KAAK,UAAUA,CAAM,CAC7B,CAAC,EACE,KAAMH,GAAaA,EAAS,KAAK,CAAC,EAClC,KAAMC,GAAS,CAGd,GAAIA,EAAK,MACP,QAAQ,IAAIA,EAAK,KAAK,UACbA,EAAK,SAAU,CACxB,QAAQ,IAAIA,EAAK,QAAQ,EAEzB,IAAMG,EAAU,IAAI,KAClB,KAAK,IAAI,EAAI,MAAc,GAAK,GAClC,EACA,SAAS,OACP,UAAU,mBAAmBH,EAAK,QAAQ,CAAC,qCACPG,EAAQ,YAAY,CAAC,WAE3D,QAAQ,IAAIH,EAAK,QAAQ,EACzB,WAAW,IAAM,CACf,OAAO,SAAS,OAAO,CACzB,EAAG,GAAI,CACT,CACF,CAAC,EACA,MAAOC,GAAU,QAAQ,IAAIA,CAAK,CAAC,EAElCH,GACF,QAAQ,IAAI,MAAM,CAEtB,CAAC,CACH,CACF,CAAC,CACH,CAAC,CACH,CAAC,EAEU,QAAQV,EAAM,CAAE,UAAW,GAAM,QAAS,EAAK,CAAC,CAC7D,EApFQ,SAoFL",
  "names": ["Home", "loginBtn", "__name", "mutations", "mutation", "node", "nodelgn_Btn", "eml_inpt", "psswd_inpt", "cfmpsswd_inpt", "sgnpLink", "response", "data", "error", "lgdata", "expires"]
}
