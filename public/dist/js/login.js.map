{
  "version": 3,
  "sources": ["../../src/js/login.js"],
  "sourcesContent": ["const Home = document.querySelector(\".contentsSec\");\r\n/* const loginBtn = document.querySelector(\".loginBtn\"); */\r\n/* const contentsSec = document.querySelector(\".contentsSec\"); */\r\n\r\n(() => {\r\n  const lgpgobsrvr = new MutationObserver((mutations) => {\r\n    mutations.forEach((mutation) => {\r\n      mutation.addedNodes.forEach((node) => {\r\n        const nodelgn_Btn = node.matches?.(\".lgn_Btn\")\r\n          ? node\r\n          : node.querySelector?.(\".lgn_Btn\");\r\n\r\n        if (nodelgn_Btn) {\r\n          const eml_inpt = document.querySelector(\".lgn_eml_inpt\");\r\n          const psswd_inpt = document.querySelector(\".lgn_psswd_inpt\");\r\n          const sgnpLink = document.querySelector(\".sgnpLink\");\r\n          const frgtLinkBtn = document.querySelector(\".frgtLinkBtn\");\r\n          const lgn_erMgs_pnl = document.querySelector(\"#lgn_erMgs_pnl\");\r\n          //Link signup\r\n          sgnpLink.addEventListener(\"click\", () => {\r\n            fetch(\"/app/sgnpg\", {\r\n              method: \"GET\",\r\n              headers: {\r\n                \"Content-Type\": \"application/json\",\r\n                // 'Authorization': 'Bearer YOUR_TOKEN',\r\n              },\r\n            })\r\n              .then((response) => response.text())\r\n              .then((data) => {\r\n                const contentsSec = document.querySelector(\".contentsSec\");\r\n                contentsSec.innerHTML = data;\r\n              })\r\n              .catch((error) => console.error(\"Error:\", error));\r\n          });\r\n\r\n          //Login form\r\n          nodelgn_Btn.addEventListener(\"click\", () => {\r\n            console.log(\"submit form:\");\r\n            console.log(eml_inpt.value, psswd_inpt.value);\r\n            const lgdata = {\r\n              eml: eml_inpt.value,\r\n              pwd: psswd_inpt.value,\r\n            };\r\n\r\n            console.log(lgdata);\r\n\r\n            fetch(\"/usr/lgn\", {\r\n              method: \"POST\",\r\n              headers: {\r\n                \"Content-Type\": \"application/json\",\r\n                // 'Authorization': 'Bearer YOUR_TOKEN',\r\n              },\r\n              body: JSON.stringify(lgdata),\r\n            })\r\n              .then((response) => response.json())\r\n              .then((data) => {\r\n                //erMgs.innerHTML = data;\r\n                //erMgs.style.display = \"block\";\r\n                if (data.erMgs) {\r\n                  console.log(data.erMgs);\r\n                  lgn_erMgs_pnl.innerHTML = data.erMgs;\r\n                  lgn_erMgs_pnl.style.display = \"block\";\r\n                  setTimeout(() => {\r\n                    lgn_erMgs_pnl.style.display = \"none\";\r\n                  }, 3000);\r\n                } else if (data.jwtToken) {\r\n                  console.log(data.jwtToken);\r\n                  //Setup Token\r\n                  const expires = new Date(Date.now() + 24 * 60 * 60 * 1000); // 7 days\r\n                  document.cookie =\r\n                    `lgrTkn=${encodeURIComponent(data.jwtToken)};` +\r\n                    `Secure; SameSite=Strict; expires=${expires.toUTCString()}; path=/`; //\r\n\r\n                  console.log(data.jwtToken);\r\n                  setTimeout(() => {\r\n                    window.location.reload();\r\n                  }, 2000);\r\n                }\r\n              })\r\n              .catch((error) => console.log(error));\r\n\r\n            if (sgnpLink) {\r\n              console.log(\"here\");\r\n            }\r\n          });\r\n\r\n          //Forgot password URL\r\n          frgtLinkBtn.addEventListener(\"click\", () => {\r\n            fetch(\"/app/frgtpss\", {\r\n              method: \"GET\",\r\n              headers: {\r\n                \"Content-Type\": \"application/json\",\r\n                // 'Authorization': 'Bearer YOUR_TOKEN',\r\n              },\r\n            })\r\n              .then((response) => response.text())\r\n              .then((data) => {\r\n                const contentsSec = document.querySelector(\".contentsSec\");\r\n                contentsSec.innerHTML = data;\r\n              })\r\n              .catch((error) => console.error(\"Error:\", error));\r\n          });\r\n        }\r\n      });\r\n    });\r\n  });\r\n\r\n  lgpgobsrvr.observe(Home, { childList: true, subtree: true });\r\n})();\r\n"],
  "mappings": "AAAA,IAAMA,EAAO,SAAS,cAAc,cAAc,EAK7B,IAAI,iBAAkBC,GAAc,CACrDA,EAAU,QAASC,GAAa,CAC9BA,EAAS,WAAW,QAASC,GAAS,CACpC,IAAMC,EAAcD,EAAK,UAAU,UAAU,EACzCA,EACAA,EAAK,gBAAgB,UAAU,EAEnC,GAAIC,EAAa,CACf,IAAMC,EAAW,SAAS,cAAc,eAAe,EACjDC,EAAa,SAAS,cAAc,iBAAiB,EACrDC,EAAW,SAAS,cAAc,WAAW,EAC7CC,EAAc,SAAS,cAAc,cAAc,EACnDC,EAAgB,SAAS,cAAc,gBAAgB,EAE7DF,EAAS,iBAAiB,QAAS,IAAM,CACvC,MAAM,aAAc,CAClB,OAAQ,MACR,QAAS,CACP,eAAgB,kBAElB,CACF,CAAC,EACE,KAAMG,GAAaA,EAAS,KAAK,CAAC,EAClC,KAAMC,GAAS,CACd,IAAMC,EAAc,SAAS,cAAc,cAAc,EACzDA,EAAY,UAAYD,CAC1B,CAAC,EACA,MAAOE,GAAU,QAAQ,MAAM,SAAUA,CAAK,CAAC,CACpD,CAAC,EAGDT,EAAY,iBAAiB,QAAS,IAAM,CAC1C,QAAQ,IAAI,cAAc,EAC1B,QAAQ,IAAIC,EAAS,MAAOC,EAAW,KAAK,EAC5C,IAAMQ,EAAS,CACb,IAAKT,EAAS,MACd,IAAKC,EAAW,KAClB,EAEA,QAAQ,IAAIQ,CAAM,EAElB,MAAM,WAAY,CAChB,OAAQ,OACR,QAAS,CACP,eAAgB,kBAElB,EACA,KAAM,KAAK,UAAUA,CAAM,CAC7B,CAAC,EACE,KAAMJ,GAAaA,EAAS,KAAK,CAAC,EAClC,KAAMC,GAAS,CAGd,GAAIA,EAAK,MACP,QAAQ,IAAIA,EAAK,KAAK,EACtBF,EAAc,UAAYE,EAAK,MAC/BF,EAAc,MAAM,QAAU,QAC9B,WAAW,IAAM,CACfA,EAAc,MAAM,QAAU,MAChC,EAAG,GAAI,UACEE,EAAK,SAAU,CACxB,QAAQ,IAAIA,EAAK,QAAQ,EAEzB,IAAMI,EAAU,IAAI,KAAK,KAAK,IAAI,EAAI,KAAU,GAAK,GAAI,EACzD,SAAS,OACP,UAAU,mBAAmBJ,EAAK,QAAQ,CAAC,qCACPI,EAAQ,YAAY,CAAC,WAE3D,QAAQ,IAAIJ,EAAK,QAAQ,EACzB,WAAW,IAAM,CACf,OAAO,SAAS,OAAO,CACzB,EAAG,GAAI,CACT,CACF,CAAC,EACA,MAAOE,GAAU,QAAQ,IAAIA,CAAK,CAAC,EAElCN,GACF,QAAQ,IAAI,MAAM,CAEtB,CAAC,EAGDC,EAAY,iBAAiB,QAAS,IAAM,CAC1C,MAAM,eAAgB,CACpB,OAAQ,MACR,QAAS,CACP,eAAgB,kBAElB,CACF,CAAC,EACE,KAAME,GAAaA,EAAS,KAAK,CAAC,EAClC,KAAMC,GAAS,CACd,IAAMC,EAAc,SAAS,cAAc,cAAc,EACzDA,EAAY,UAAYD,CAC1B,CAAC,EACA,MAAOE,GAAU,QAAQ,MAAM,SAAUA,CAAK,CAAC,CACpD,CAAC,CACH,CACF,CAAC,CACH,CAAC,CACH,CAAC,EAEU,QAAQb,EAAM,CAAE,UAAW,GAAM,QAAS,EAAK,CAAC",
  "names": ["Home", "mutations", "mutation", "node", "nodelgn_Btn", "eml_inpt", "psswd_inpt", "sgnpLink", "frgtLinkBtn", "lgn_erMgs_pnl", "response", "data", "contentsSec", "error", "lgdata", "expires"]
}
