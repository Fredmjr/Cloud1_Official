{
  "version": 3,
  "sources": ["../../src/js/profile.js"],
  "sourcesContent": ["/* const loginBtn = document.querySelector(\".loginBtn\"); */\r\n/* const contentsSec = document.querySelector(\".contentsSec\"); */\r\nconst profileMenu = document.querySelector(\".profileMenu\");\r\nconst drpusrnm = document.querySelector(\".usrPrlusername\");\r\nconst drpml = document.querySelector(\".usrPrlEmail\");\r\n\r\n//Get token\r\n(() => {\r\n  lgrTknckie = (elem) => {\r\n    let ckies = document.cookie.split(\"; \");\r\n    for (let i = 0; i < ckies.length; i++) {\r\n      let cookie = ckies[i];\r\n      let [name, value] = cookie.split(\"=\");\r\n      if (name === elem) {\r\n        return decodeURIComponent(value);\r\n      }\r\n    }\r\n    return null;\r\n  };\r\n\r\n  let lgrTknckie_Home = lgrTknckie(\"lgrTkn\");\r\n  //hide login icon is token present (usr loged in)\r\n  if (lgrTknckie_Home) {\r\n    const loginBtn = document.querySelector(\".loginBtn\");\r\n    loginBtn.style.display = \"none\";\r\n    //add icon here in place of login icon\r\n  }\r\n\r\n  //Profiler\r\n  const Tk_data = {\r\n    prflr_tkn: lgrTknckie_Home,\r\n  };\r\n\r\n  if (lgrTknckie_Home) {\r\n    fetch(\"/usr/prflr\", {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        // 'Authorization': 'Bearer YOUR_TOKEN',\r\n      },\r\n      body: JSON.stringify(Tk_data),\r\n    })\r\n      .then((response) => response.json())\r\n      .then((data) => {\r\n        console.log(data.usrnm, data.eml, data.phm);\r\n        if (data.usrnm && data.eml) {\r\n          drpusrnm.textContent = data.usrnm;\r\n          drpml.textContent = data.eml;\r\n        }\r\n      })\r\n      .catch((error) => console.log(error));\r\n  }\r\n})();\r\n\r\n//profile page configuration\r\n(() => {\r\n  let tkn = ((elem) => {\r\n    let ckies = document.cookie.split(\"; \");\r\n    for (let i = 0; i < ckies.length; i++) {\r\n      let cookie = ckies[i];\r\n      let [name, value] = cookie.split(\"=\");\r\n      if (name === elem) {\r\n        return decodeURIComponent(value);\r\n      }\r\n    }\r\n    return null;\r\n  })(\"lgrTkn\");\r\n  const tknobj = {\r\n    tkndata: tkn,\r\n  };\r\n\r\n  fetch(\"/usr/authprfl\", {\r\n    method: \"POST\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n      // 'Authorization': 'Bearer YOUR_TOKEN',\r\n    },\r\n    body: JSON.stringify(tknobj),\r\n  })\r\n    .then((response) => response.json())\r\n    .then((data) => {\r\n      if (data.prflpg) {\r\n        //Profile page\r\n        profileMenu.addEventListener(\"click\", () => {\r\n          fetch(\"/app/prflpg\", {\r\n            method: \"GET\",\r\n            headers: {\r\n              \"Content-Type\": \"application/json\",\r\n              // 'Authorization': 'Bearer YOUR_TOKEN',\r\n            },\r\n          })\r\n            .then((response) => response.text())\r\n            .then((data) => {\r\n              const contentsSec = document.querySelector(\".contentsSec\");\r\n              contentsSec.innerHTML = data;\r\n            })\r\n            .catch((error) => console.error(error));\r\n        });\r\n      } else {\r\n        //Redirect to login page if no login tkn found\r\n        profileMenu.addEventListener(\"click\", () => {\r\n          fetch(\"/app/login\", {\r\n            method: \"GET\",\r\n            headers: {\r\n              \"Content-Type\": \"application/json\",\r\n              // 'Authorization': 'Bearer YOUR_TOKEN',\r\n            },\r\n          })\r\n            .then((response) => response.text())\r\n            .then((data) => {\r\n              const contentsSec = document.querySelector(\".contentsSec\");\r\n              contentsSec.innerHTML = data;\r\n            })\r\n            .catch((error) => console.error(error));\r\n        });\r\n      }\r\n    })\r\n    .catch((error) => console.error(error));\r\n})();\r\n"],
  "mappings": "+EAEA,IAAMA,EAAc,SAAS,cAAc,cAAc,EACnDC,EAAW,SAAS,cAAc,iBAAiB,EACnDC,EAAQ,SAAS,cAAc,cAAc,GAGlD,IAAM,CACL,WAAaC,EAACC,GAAS,CACrB,IAAIC,EAAQ,SAAS,OAAO,MAAM,IAAI,EACtC,QAASC,EAAI,EAAGA,EAAID,EAAM,OAAQC,IAAK,CACrC,IAAIC,EAASF,EAAMC,CAAC,EAChB,CAACE,EAAMC,CAAK,EAAIF,EAAO,MAAM,GAAG,EACpC,GAAIC,IAASJ,EACX,OAAO,mBAAmBK,CAAK,CAEnC,CACA,OAAO,IACT,EAVa,cAYb,IAAIC,EAAkB,WAAW,QAAQ,EAEzC,GAAIA,EAAiB,CACnB,IAAMC,EAAW,SAAS,cAAc,WAAW,EACnDA,EAAS,MAAM,QAAU,MAE3B,CAOID,GACF,MAAM,aAAc,CAClB,OAAQ,OACR,QAAS,CACP,eAAgB,kBAElB,EACA,KAAM,KAAK,UAXC,CACd,UAAWA,CACb,CASgC,CAC9B,CAAC,EACE,KAAME,GAAaA,EAAS,KAAK,CAAC,EAClC,KAAMC,GAAS,CACd,QAAQ,IAAIA,EAAK,MAAOA,EAAK,IAAKA,EAAK,GAAG,EACtCA,EAAK,OAASA,EAAK,MACrBZ,EAAS,YAAcY,EAAK,MAC5BX,EAAM,YAAcW,EAAK,IAE7B,CAAC,EACA,MAAOC,GAAU,QAAQ,IAAIA,CAAK,CAAC,CAE1C,GAAG,GAGF,IAAM,CAYL,IAAMC,EAAS,CACb,SAZUX,GAAS,CACnB,IAAIC,EAAQ,SAAS,OAAO,MAAM,IAAI,EACtC,QAASC,EAAI,EAAGA,EAAID,EAAM,OAAQC,IAAK,CACrC,IAAIC,EAASF,EAAMC,CAAC,EAChB,CAACE,EAAMC,CAAK,EAAIF,EAAO,MAAM,GAAG,EACpC,GAAIC,IAASJ,EACX,OAAO,mBAAmBK,CAAK,CAEnC,CACA,OAAO,IACT,GAAG,QAAQ,CAGX,EAEA,MAAM,gBAAiB,CACrB,OAAQ,OACR,QAAS,CACP,eAAgB,kBAElB,EACA,KAAM,KAAK,UAAUM,CAAM,CAC7B,CAAC,EACE,KAAMH,GAAaA,EAAS,KAAK,CAAC,EAClC,KAAMC,GAAS,CACVA,EAAK,OAEPb,EAAY,iBAAiB,QAAS,IAAM,CAC1C,MAAM,cAAe,CACnB,OAAQ,MACR,QAAS,CACP,eAAgB,kBAElB,CACF,CAAC,EACE,KAAMY,GAAaA,EAAS,KAAK,CAAC,EAClC,KAAMC,GAAS,CACd,IAAMG,EAAc,SAAS,cAAc,cAAc,EACzDA,EAAY,UAAYH,CAC1B,CAAC,EACA,MAAOC,GAAU,QAAQ,MAAMA,CAAK,CAAC,CAC1C,CAAC,EAGDd,EAAY,iBAAiB,QAAS,IAAM,CAC1C,MAAM,aAAc,CAClB,OAAQ,MACR,QAAS,CACP,eAAgB,kBAElB,CACF,CAAC,EACE,KAAMY,GAAaA,EAAS,KAAK,CAAC,EAClC,KAAMC,GAAS,CACd,IAAMG,EAAc,SAAS,cAAc,cAAc,EACzDA,EAAY,UAAYH,CAC1B,CAAC,EACA,MAAOC,GAAU,QAAQ,MAAMA,CAAK,CAAC,CAC1C,CAAC,CAEL,CAAC,EACA,MAAOA,GAAU,QAAQ,MAAMA,CAAK,CAAC,CAC1C,GAAG",
  "names": ["profileMenu", "drpusrnm", "drpml", "__name", "elem", "ckies", "i", "cookie", "name", "value", "lgrTknckie_Home", "loginBtn", "response", "data", "error", "tknobj", "contentsSec"]
}
