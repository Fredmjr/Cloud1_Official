var a=Object.defineProperty;var u=(s,n)=>a(s,"name",{value:n,configurable:!0});var c=document.querySelector(".contentsSec");c&&console.log("present");(lgpg=u(()=>{new MutationObserver(n=>{n.forEach(d=>{d.addedNodes.forEach(t=>{let l=t.matches?.(".lgn_Btn")?t:t.querySelector?.(".lgn_Btn");if(l){console.log("loginbtm present");let r=document.querySelector(".lgn_eml_inpt"),i=document.querySelector(".lgn_psswd_inpt"),g=document.querySelector(".lgn_cfmpsswd_inpt"),p=document.querySelector(".sgnpLink");p.addEventListener("click",()=>{fetch("/app/sgnpg",{method:"GET",headers:{"Content-Type":"application/json"}}).then(o=>o.text()).then(o=>{c.innerHTML=o}).catch(o=>console.error("Error:",o))}),l.addEventListener("click",()=>{console.log("submit form:"),console.log(r.value,i.value,g.value);let o={eml:r.value,pwd:i.value,conf_pwd:g.value};console.log(o),fetch("/usr/lgn",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)}).then(e=>e.json()).then(e=>{if(e.erMgs)console.log(e.erMgs);else if(e.jwtToken){console.log(e.jwtToken);let m=new Date(Date.now()+10080*60*1e3);document.cookie=`lgrTkn=${encodeURIComponent(e.jwtToken)};Secure; SameSite=Strict; expires=${m.toUTCString()}; path=/`,console.log(e.jwtToken)}}).catch(e=>console.log(e)),p&&console.log("here")})}})})}).observe(c,{childList:!0,subtree:!0})},"lgpg"))();
//# sourceMappingURL=login.js.map
