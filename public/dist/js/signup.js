var S=Object.defineProperty;var d=(r,t)=>S(r,"name",{value:t,configurable:!0});var c=document.querySelector(".contentsSec");c&&console.log("present");(SgnpFuc=d(()=>{new MutationObserver(t=>{t.forEach(_=>{_.addedNodes.forEach(o=>{let p=o.matches?.(".sgnp_Btn")?o:o.querySelector?.(".sgnp_Btn");if(p){let l=document.querySelector(".sgnp_usrnm_inpt"),i=document.querySelector(".sgnp_phnm_inpt"),u=document.querySelector(".sgnp_eml_inpt"),g=document.querySelector(".sgnp_psswd_inpt"),m=document.querySelector(".sgnp_fmpsswd_inpt"),s=document.querySelector("#sgnp_ermgs"),a=document.querySelector(".lgnLinkBtn");p.addEventListener("click",()=>{console.log("submit form:"),console.log(l.value,i.value,u.value,g.value,m.value);let n={usrnm:l.value,pnm:i.value,eml:u.value,pwd:g.value,conf_pwd:m.value};console.log(n),fetch("/usr/sgnp",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then(e=>e.json()).then(e=>{if(e.erMgs)console.log(e.erMgs),s.style.display="block",s.innerHTML=e.erMgs,setTimeout(()=>{s.style.display="none"},3e3);else if(e.jwtToken&&e.redir){console.log(e);let h=new Date(Date.now()+1440*60*1e3);document.cookie=`lgrTkn=${encodeURIComponent(e.jwtToken)};Secure; SameSite=Strict; expires=${h.toUTCString()}; path=/`}}).catch(e=>console.log(e))}),a.addEventListener("click",()=>{fetch("/app/login",{method:"GET",headers:{"Content-Type":"application/json"}}).then(n=>n.text()).then(n=>{c.innerHTML=n}).catch(n=>console.error("Error:",n))})}})})}).observe(c,{childList:!0,subtree:!0})},"SgnpFuc"))();
//# sourceMappingURL=signup.js.map
